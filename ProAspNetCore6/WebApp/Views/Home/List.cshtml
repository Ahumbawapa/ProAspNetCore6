@model IEnumerable<Product>
@{
    // Where a view contains a complete HTML document, Layout-Property can be set to null
    Layout = null;
    decimal average = Model?.Average(p => p.Price) ?? 0;
}
<!Doctype html>
<html>
    <head>
        <link href="/lib/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
    </head>
    <body>
        <h6 class="bg-secondary text-white text-center m-2 p-2">Products</h6>
        <div class="m-2">
            <table class="table table-sm table-striped table-bordered">
                <thead>
                    <tr><th>Name</th><th>Price</th></tr>
                </thead>
                <tbody>
                    @foreach(Product p in Model ?? Enumerable.Empty<Product>())
                    {
                        <tr>
                            <td>@p.Name</td>
                            <td>@p.Price</td>
                            <td>@((p.Price / average * 100).ToString("F1")) % CacheProfile average</td>
                        </tr>
                    }
            </tbody>
            </table>
        </div>
    </body>
</html>
